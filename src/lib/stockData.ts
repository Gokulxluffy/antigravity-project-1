import { StockData } from './types';

// Helper to generate realistic 12-month price history
function genPrices(current: number, volatility: number): number[] {
    const prices: number[] = [];
    let p = current * (0.85 + Math.random() * 0.15);
    for (let i = 0; i < 12; i++) {
        p = p * (1 + (Math.random() - 0.45) * volatility);
        prices.push(Math.round(p * 100) / 100);
    }
    prices[11] = current;
    return prices;
}

// eslint-disable-next-line @typescript-eslint/no-explicit-any
const raw: any[][] = [
    ['rel', 'Reliance Industries', 'RELIANCE', 'NSE/BSE', 'Energy', 'Oil & Gas', 1925000, 'large',
        945000, 12.5, 79000, 8.4, 152000, 16.1, 315000, 750000, 1450000, 42000, 98, 15.2, 2.1, 0.42, 10.5, 1.8, 14.2, 11.8, 18.5, 16.2,
        2485, 2856, 2180, 28.5, 4.2, 1.8, 0.85, 5200000, 1925000, 50.2,
        50.3, 23.5, 12.8, 13.4, 0.0, 0.08],
    ['tcs', 'Tata Consultancy Services', 'TCS', 'NSE/BSE', 'IT', 'IT Services', 1580000, 'large',
        240000, 8.2, 62000, 25.8, 72000, 30.0, 12000, 120000, 210000, 48000, 115, 12.5, 0.5, 0.10, 48.2, 4.5, 28.8, 26.5, 52.5, 15.2,
        4150, 4562, 3680, 32.5, 15.8, 2.8, 0.65, 3800000, 1580000, 63.8,
        72.3, 10.5, 8.2, 9.0, 0.0, 0.06],
    ['infy', 'Infosys', 'INFY', 'NSE/BSE', 'IT', 'IT Services', 780000, 'large',
        162000, 10.5, 35200, 21.7, 42000, 25.9, 8500, 92000, 165000, 28000, 85, 14.2, 0.4, 0.09, 38.5, 3.8, 24.5, 22.8, 42.2, 12.5,
        1865, 2105, 1580, 28.2, 8.5, 2.1, 0.72, 4200000, 780000, 62.5,
        14.8, 35.2, 20.5, 29.5, 0.0, 0.07],
    ['hdfc', 'HDFC Bank', 'HDFCBANK', 'NSE/BSE', 'Banking', 'Private Bank', 1350000, 'large',
        285000, 18.5, 52000, 18.2, 0, 0, 0, 350000, 2800000, 0, 78, 22.5, 0, 0, 16.8, 3.2, 0, 0, 18.5, 14.2,
        1780, 1880, 1420, 22.5, 3.2, 1.5, 0.92, 8500000, 1350000, 79.2,
        26.1, 32.5, 22.8, 18.6, 0.5, 0.09],
    ['icici', 'ICICI Bank', 'ICICIBANK', 'NSE/BSE', 'Banking', 'Private Bank', 890000, 'large',
        245000, 22.5, 48500, 19.8, 0, 0, 0, 280000, 2100000, 0, 68, 28.5, 0, 0, 18.2, 3.5, 0, 0, 16.8, 12.5,
        1265, 1360, 1050, 18.5, 3.0, 1.2, 0.95, 9200000, 890000, 78.5,
        25.8, 42.5, 18.2, 13.5, 0.8, 0.10],
    ['hul', 'Hindustan Unilever', 'HINDUNILVR', 'NSE/BSE', 'FMCG', 'Consumer Goods', 580000, 'large',
        62000, 5.8, 14500, 23.4, 18500, 29.8, 2500, 48000, 68000, 12000, 62, 8.2, 1.2, 0.05, 33.5, 2.8, 22.5, 18.5, 55.2, 8.5,
        2465, 2850, 2180, 58.5, 12.5, 3.8, 0.52, 3200000, 580000, 38.5,
        61.9, 14.2, 10.5, 13.4, 0.0, 0.06],
    ['itc', 'ITC Limited', 'ITC', 'NSE/BSE', 'FMCG', 'Diversified', 585000, 'large',
        72000, 8.5, 20500, 28.5, 28000, 38.9, 5200, 58000, 92000, 18000, 16.5, 12.8, 0.8, 0.09, 22.5, 2.8, 28.5, 24.2, 38.5, 10.2,
        468, 500, 380, 28.2, 8.2, 2.2, 0.68, 12000000, 585000, 42.5,
        0.0, 42.5, 25.8, 31.7, 0.0, 0.07],
    ['sbi', 'State Bank of India', 'SBIN', 'NSE/BSE', 'Banking', 'Public Bank', 720000, 'large',
        410000, 15.2, 68000, 16.6, 0, 0, 0, 180000, 5200000, 0, 76, 18.5, 0, 0, 22.5, 3.8, 0, 0, 14.5, 10.2,
        805, 890, 680, 8.2, 1.8, 0.8, 1.15, 18000000, 720000, 42.5,
        57.6, 10.5, 18.2, 13.7, 1.2, 0.12],
    ['bharti', 'Bharti Airtel', 'BHARTIARTL', 'NSE/BSE', 'Telecom', 'Telecom Services', 920000, 'large',
        165000, 22.5, 12500, 7.6, 68000, 41.2, 185000, 125000, 420000, 8500, 32, 35.2, 3.5, 1.48, 6.8, 2.5, 10.5, 8.2, 22.5, 18.5,
        1685, 1780, 1250, 82.5, 14.2, 3.5, 0.78, 4500000, 920000, 35.8,
        55.2, 25.8, 8.5, 10.5, 2.5, 0.09],
    ['lt', 'Larsen & Toubro', 'LT', 'NSE/BSE', 'Infrastructure', 'Engineering', 520000, 'large',
        245000, 18.5, 18500, 7.6, 32000, 13.1, 95000, 85000, 280000, 12000, 135, 22.5, 1.8, 1.12, 12.8, 3.2, 22.5, 18.2, 18.5, 14.2,
        3785, 4050, 3200, 35.2, 5.8, 2.2, 1.05, 3200000, 520000, 38.5,
        0.0, 38.5, 28.2, 33.3, 0.0, 0.10],
    ['axisbank', 'Axis Bank', 'AXISBANK', 'NSE/BSE', 'Banking', 'Private Bank', 385000, 'large',
        118000, 20.5, 24500, 20.8, 0, 0, 0, 120000, 1250000, 0, 52, 25.2, 0, 0, 14.5, 2.8, 0, 0, 12.5, 10.8,
        1245, 1380, 980, 15.2, 2.5, 1.1, 1.08, 8500000, 385000, 72.5,
        8.2, 42.5, 22.8, 26.5, 1.5, 0.11],
    ['maruti', 'Maruti Suzuki', 'MARUTI', 'NSE/BSE', 'Automobile', 'Passenger Vehicles', 420000, 'large',
        142000, 15.2, 14200, 10.0, 18500, 13.0, 2500, 68000, 95000, 10500, 475, 18.5, 0.2, 0.04, 22.5, 3.5, 12.5, 10.2, 28.5, 15.2,
        13500, 14200, 10800, 32.5, 8.2, 2.1, 0.82, 1200000, 420000, 42.5,
        56.2, 18.5, 12.8, 12.5, 0.0, 0.08],
    ['sunpharma', 'Sun Pharmaceutical', 'SUNPHARMA', 'NSE/BSE', 'Pharma', 'Pharmaceuticals', 425000, 'large',
        48500, 12.5, 10200, 21.0, 14500, 29.9, 8500, 42000, 72000, 8500, 42, 15.2, 0.8, 0.20, 18.5, 2.8, 24.2, 20.5, 28.5, 12.5,
        1768, 1920, 1450, 42.5, 8.5, 2.8, 0.62, 3500000, 425000, 45.2,
        54.5, 18.2, 12.5, 14.8, 0.0, 0.08],
    ['titan', 'Titan Company', 'TITAN', 'NSE/BSE', 'Consumer', 'Jewellery & Watches', 310000, 'large',
        52000, 22.5, 5200, 10.0, 6500, 12.5, 4500, 18000, 32000, 3200, 58, 28.5, 0.5, 0.25, 25.2, 3.8, 32.5, 28.2, 35.2, 22.5,
        3485, 3850, 2800, 85.2, 18.5, 4.2, 0.95, 2800000, 310000, 45.8,
        52.9, 18.5, 12.8, 15.8, 0.0, 0.10],
    ['wipro', 'Wipro', 'WIPRO', 'NSE/BSE', 'IT', 'IT Services', 285000, 'large',
        98000, 4.5, 15200, 15.5, 18500, 18.9, 12000, 62000, 125000, 12000, 28, 8.5, 0.5, 0.19, 18.2, 2.5, 24.5, 20.8, 22.5, 8.5,
        545, 620, 450, 22.5, 4.5, 1.8, 0.78, 5200000, 285000, 72.5,
        72.8, 8.5, 8.2, 10.5, 0.0, 0.08],
    ['kotakbank', 'Kotak Mahindra Bank', 'KOTAKBANK', 'NSE/BSE', 'Banking', 'Private Bank', 420000, 'large',
        92000, 15.8, 18500, 20.1, 0, 0, 0, 95000, 580000, 0, 95, 15.2, 0, 0, 14.2, 2.5, 0, 0, 18.5, 12.8,
        2145, 2350, 1850, 25.2, 4.2, 1.8, 0.82, 4500000, 420000, 72.5,
        25.8, 35.2, 18.5, 20.5, 0.0, 0.08],
    ['asianpaints', 'Asian Paints', 'ASIANPAINT', 'NSE/BSE', 'Consumer', 'Paints', 295000, 'large',
        35500, 8.5, 5800, 16.3, 7200, 20.3, 3200, 22000, 38000, 4500, 82, 12.5, 0.4, 0.15, 28.5, 3.2, 22.5, 18.5, 35.2, 15.2,
        3085, 3450, 2650, 62.5, 15.8, 3.5, 0.72, 2800000, 295000, 42.5,
        52.6, 18.2, 12.8, 16.4, 0.0, 0.07],
    ['bajfinance', 'Bajaj Finance', 'BAJFINANCE', 'NSE/BSE', 'NBFC', 'Consumer Finance', 485000, 'large',
        58000, 28.5, 15500, 26.7, 0, 0, 0, 185000, 350000, 0, 225, 32.5, 0, 0, 22.5, 4.5, 0, 0, 28.5, 22.5,
        7850, 8500, 6200, 35.2, 8.2, 1.5, 1.15, 3500000, 485000, 42.5,
        54.8, 18.5, 12.2, 14.5, 1.2, 0.12],
    ['hcltech', 'HCL Technologies', 'HCLTECH', 'NSE/BSE', 'IT', 'IT Services', 425000, 'large',
        110000, 8.8, 18200, 16.5, 22000, 20.0, 15000, 58000, 105000, 15000, 68, 14.5, 0.5, 0.26, 22.5, 3.2, 28.5, 24.2, 35.2, 12.5,
        1565, 1750, 1350, 22.5, 6.2, 1.8, 0.72, 3800000, 425000, 38.5,
        60.8, 15.2, 12.5, 11.5, 0.0, 0.07],
    ['powergrid', 'Power Grid Corp', 'POWERGRID', 'NSE/BSE', 'Power', 'Utilities', 285000, 'large',
        46500, 8.5, 18500, 39.8, 35000, 75.3, 125000, 95000, 320000, 12000, 18, 12.5, 2.5, 1.32, 8.5, 2.2, 18.5, 15.2, 22.5, 10.5,
        305, 340, 255, 12.5, 2.8, 0.9, 0.58, 12000000, 285000, 42.5,
        57.9, 22.5, 8.5, 11.1, 0.0, 0.07],
    ['tatamotors', 'Tata Motors', 'TATAMOTORS', 'NSE/BSE', 'Automobile', 'Commercial Vehicles', 325000, 'large',
        445000, 25.5, 32000, 7.2, 52000, 11.7, 85000, 125000, 350000, 18000, 85, 35.2, 1.2, 0.68, 18.5, 3.8, 28.5, 22.5, 15.2, 18.5,
        985, 1100, 720, 15.2, 4.5, 1.2, 1.25, 8500000, 325000, 52.5,
        46.4, 18.5, 15.8, 19.3, 2.5, 0.14],
    ['ntpc', 'NTPC Limited', 'NTPC', 'NSE/BSE', 'Power', 'Power Generation', 385000, 'large',
        185000, 12.5, 22500, 12.2, 48000, 25.9, 145000, 125000, 420000, 15000, 19, 15.2, 2.2, 1.16, 10.5, 2.5, 18.5, 14.2, 18.5, 12.5,
        395, 425, 310, 14.5, 2.8, 1.0, 0.72, 15000000, 385000, 38.5,
        51.1, 22.5, 12.8, 13.6, 0.0, 0.08],
    ['ultracemco', 'UltraTech Cement', 'ULTRACEMCO', 'NSE/BSE', 'Cement', 'Building Materials', 285000, 'large',
        72000, 15.2, 8500, 11.8, 15500, 21.5, 22000, 45000, 85000, 6500, 295, 18.5, 0.8, 0.49, 12.5, 2.8, 18.5, 15.2, 22.5, 14.2,
        9850, 10500, 8200, 42.5, 8.5, 2.5, 0.85, 1200000, 285000, 38.5,
        60.6, 12.5, 12.8, 14.1, 0.0, 0.09],
    ['adaniports', 'Adani Ports', 'ADANIPORTS', 'NSE/BSE', 'Infrastructure', 'Ports', 285000, 'large',
        26500, 22.5, 8200, 30.9, 14500, 54.7, 45000, 32000, 95000, 5500, 58, 28.5, 1.8, 1.41, 12.5, 3.5, 22.5, 18.5, 18.5, 15.2,
        1315, 1550, 980, 25.5, 5.8, 1.5, 1.18, 5200000, 285000, 35.2,
        65.2, 12.5, 10.5, 11.8, 5.2, 0.13],
    ['drreddy', 'Dr. Reddy\'s Labs', 'DRREDDY', 'NSE/BSE', 'Pharma', 'Pharmaceuticals', 118000, 'large',
        28500, 14.2, 5800, 20.4, 7200, 25.3, 8500, 32000, 52000, 4500, 348, 18.5, 0.5, 0.27, 18.2, 2.8, 22.5, 18.5, 28.5, 12.5,
        7050, 7500, 5800, 28.5, 5.8, 1.8, 0.62, 1800000, 118000, 42.5,
        26.7, 25.2, 22.5, 25.6, 0.0, 0.08],
    ['techm', 'Tech Mahindra', 'TECHM', 'NSE/BSE', 'IT', 'IT Services', 168000, 'large',
        58000, 5.2, 5800, 10.0, 8200, 14.1, 8500, 32000, 62000, 4500, 62, 8.5, 0.5, 0.27, 12.5, 2.2, 18.5, 14.2, 18.5, 8.5,
        1720, 1850, 1380, 35.2, 5.5, 2.5, 0.85, 2800000, 168000, 45.2,
        35.2, 22.5, 18.2, 24.1, 0.0, 0.09],
    // Mid-cap companies
    ['trent', 'Trent Limited', 'TRENT', 'NSE/BSE', 'Retail', 'Fashion Retail', 185000, 'mid',
        14500, 45.2, 1850, 12.8, 2200, 15.2, 1500, 8500, 15000, 1200, 42, 52.5, 0.3, 0.18, 35.2, 5.2, 42.5, 38.2, 45.2, 28.5,
        7250, 8200, 4500, 155.2, 22.5, 5.5, 1.25, 1800000, 185000, 32.5,
        37.0, 28.5, 15.2, 19.3, 0.0, 0.15],
    ['piind', 'PI Industries', 'PIIND', 'NSE/BSE', 'Chemicals', 'Agrochemicals', 72000, 'mid',
        8200, 18.5, 1520, 18.5, 2000, 24.4, 1200, 8500, 14000, 1100, 100, 22.5, 0.3, 0.14, 22.5, 3.5, 28.5, 24.2, 32.5, 18.5,
        4750, 5200, 3800, 52.5, 10.5, 2.8, 0.75, 850000, 72000, 38.5,
        46.1, 22.5, 15.2, 16.2, 0.0, 0.10],
    ['persistent', 'Persistent Systems', 'PERSISTENT', 'NSE/BSE', 'IT', 'IT Services', 82000, 'mid',
        9200, 28.5, 1450, 15.8, 1800, 19.6, 450, 5200, 9500, 1200, 95, 32.5, 0.2, 0.09, 28.5, 4.2, 35.2, 30.5, 38.5, 22.5,
        5350, 6200, 3800, 68.5, 18.5, 3.8, 0.95, 650000, 82000, 25.2,
        31.2, 28.5, 22.5, 17.8, 0.0, 0.12],
    ['policybzr', 'PB Fintech', 'POLICYBZR', 'NSE/BSE', 'Fintech', 'Insurance Tech', 68000, 'mid',
        3500, 42.5, 250, 7.1, 450, 12.9, 200, 4500, 8000, 180, 5.5, 45.2, 0.1, 0.04, 8.5, 2.5, 0, 0, 12.5, 35.2,
        1485, 1850, 920, 285.2, 15.2, 5.2, 1.35, 1200000, 68000, 22.5,
        5.0, 42.5, 25.2, 27.3, 0.0, 0.18],
    ['dixon', 'Dixon Technologies', 'DIXON', 'NSE/BSE', 'Electronics', 'EMS', 48000, 'mid',
        18500, 42.5, 850, 4.6, 1200, 6.5, 1500, 4500, 9500, 520, 142, 48.5, 0.5, 0.33, 18.5, 4.2, 35.2, 28.5, 22.5, 28.5,
        15200, 17500, 9800, 125.5, 22.5, 5.2, 1.42, 450000, 48000, 28.5,
        35.8, 28.5, 18.2, 17.5, 0.0, 0.16],
    ['maxhealth', 'Max Healthcare', 'MAXHEALTH', 'NSE/BSE', 'Healthcare', 'Hospitals', 92000, 'mid',
        7800, 28.5, 1850, 23.7, 2500, 32.1, 2200, 8500, 18000, 1500, 19, 22.5, 0.4, 0.26, 15.2, 3.2, 22.5, 18.5, 28.5, 18.5,
        945, 1050, 720, 72.5, 12.5, 3.2, 0.82, 1500000, 92000, 35.2,
        23.8, 32.5, 18.2, 25.5, 0.0, 0.11],
    ['bsoft', 'Birlasoft', 'BSOFT', 'NSE/BSE', 'IT', 'IT Services', 18500, 'mid',
        5800, 15.2, 720, 12.4, 850, 14.7, 250, 3200, 5800, 580, 26, 18.5, 0.2, 0.08, 22.5, 3.2, 28.5, 22.5, 25.2, 15.2,
        680, 820, 520, 22.5, 5.2, 1.8, 0.88, 1200000, 18500, 38.5,
        40.5, 22.5, 18.2, 18.8, 0.0, 0.12],
    ['iei', 'Indian Energy Exchange', 'IEX', 'NSE/BSE', 'Power', 'Power Exchange', 15000, 'mid',
        520, 12.5, 350, 67.3, 420, 80.8, 50, 1200, 1800, 320, 11, 15.2, 0.1, 0.04, 42.5, 5.2, 52.5, 45.2, 62.5, 18.5,
        168, 195, 130, 32.5, 12.5, 2.5, 0.72, 2500000, 15000, 45.2,
        0.0, 35.2, 28.5, 36.3, 0.0, 0.11],
    // Small-cap high-growth
    ['cdsl', 'CDSL', 'CDSL', 'NSE/BSE', 'Financial Services', 'Depository', 28000, 'small',
        820, 25.2, 480, 58.5, 580, 70.7, 0, 2800, 3500, 420, 23, 28.5, 0.0, 0.00, 52.5, 5.8, 58.5, 48.2, 72.5, 22.5,
        1340, 1650, 980, 62.5, 18.5, 4.5, 0.95, 1800000, 28000, 25.8,
        24.0, 32.5, 22.5, 21.0, 0.0, 0.14],
    ['deepaknitrite', 'Deepak Nitrite', 'DEEPAKNTR', 'NSE/BSE', 'Chemicals', 'Specialty Chemicals', 32000, 'small',
        8200, 15.2, 1250, 15.2, 1800, 22.0, 1500, 5200, 9800, 850, 92, 18.5, 0.5, 0.29, 22.5, 3.5, 28.5, 22.5, 28.5, 15.2,
        2340, 2800, 1850, 28.5, 6.2, 1.8, 0.92, 850000, 32000, 35.2,
        49.2, 18.5, 15.2, 17.1, 0.0, 0.13],
    ['route', 'Route Mobile', 'ROUTE', 'NSE/BSE', 'IT', 'CPaaS', 8500, 'small',
        3200, 22.5, 420, 13.1, 520, 16.3, 250, 2200, 3800, 350, 68, 25.2, 0.2, 0.11, 18.5, 3.5, 22.5, 18.5, 22.5, 18.5,
        1385, 1750, 1050, 22.5, 4.8, 1.5, 0.85, 350000, 8500, 28.5,
        32.5, 25.2, 18.5, 23.8, 0.0, 0.14],
    ['kpittech', 'KPIT Technologies', 'KPITTECH', 'NSE/BSE', 'IT', 'Auto Tech', 42000, 'small',
        4500, 38.5, 720, 16.0, 920, 20.4, 350, 3200, 5500, 580, 26, 42.5, 0.2, 0.11, 28.5, 4.5, 35.2, 30.5, 35.2, 22.5,
        1535, 1850, 1100, 72.5, 15.2, 3.8, 1.15, 1200000, 42000, 32.5,
        40.1, 22.5, 18.2, 19.2, 0.0, 0.14],
    ['happstmnds', 'Happiest Minds', 'HAPPSTMNDS', 'NSE/BSE', 'IT', 'Digital Services', 12000, 'small',
        1800, 22.5, 280, 15.6, 350, 19.4, 150, 1500, 2800, 220, 18, 25.2, 0.2, 0.10, 22.5, 3.8, 28.5, 24.2, 28.5, 18.5,
        785, 950, 620, 52.5, 10.5, 3.2, 0.92, 650000, 12000, 28.5,
        53.2, 15.2, 12.5, 19.1, 0.0, 0.14],
    ['lti', 'LTIMindtree', 'LTIM', 'NSE/BSE', 'IT', 'IT Services', 185000, 'large',
        38000, 12.5, 5800, 15.3, 7200, 18.9, 2500, 22000, 42000, 4200, 195, 18.5, 0.3, 0.11, 22.5, 3.2, 28.5, 22.5, 32.5, 15.2,
        6250, 6800, 5200, 38.5, 10.5, 2.8, 0.78, 1500000, 185000, 35.2,
        68.8, 12.5, 8.5, 10.2, 0.0, 0.08],
    ['coalindia', 'Coal India', 'COALINDIA', 'NSE/BSE', 'Mining', 'Coal', 285000, 'large',
        145000, 8.5, 38000, 26.2, 52000, 35.9, 5200, 85000, 135000, 28000, 62, 12.5, 0.8, 0.06, 18.5, 2.5, 42.5, 35.2, 48.5, 10.2,
        462, 520, 380, 8.5, 4.5, 0.8, 0.85, 12000000, 285000, 32.5,
        63.1, 8.5, 12.5, 15.9, 0.0, 0.09],
    ['indusindbk', 'IndusInd Bank', 'INDUSINDBK', 'NSE/BSE', 'Banking', 'Private Bank', 85000, 'mid',
        52000, 18.5, 8500, 16.3, 0, 0, 0, 45000, 420000, 0, 120, 22.5, 0, 0, 14.5, 2.8, 0, 0, 12.5, 10.5,
        1085, 1380, 780, 10.5, 1.8, 0.8, 1.22, 3500000, 85000, 62.5,
        16.5, 38.5, 22.5, 22.5, 2.8, 0.15],
    ['jswsteel', 'JSW Steel', 'JSWSTEEL', 'NSE/BSE', 'Steel', 'Metals', 195000, 'large',
        185000, 15.2, 12500, 6.8, 28000, 15.1, 65000, 52000, 145000, 8500, 48, 18.5, 1.8, 1.25, 8.5, 2.5, 12.5, 10.2, 15.2, 12.5,
        805, 920, 650, 18.5, 3.5, 1.2, 1.25, 5200000, 195000, 42.5,
        45.8, 18.5, 15.2, 20.5, 8.5, 0.13],
    ['tatasteel', 'Tata Steel', 'TATASTEEL', 'NSE/BSE', 'Steel', 'Metals', 205000, 'large',
        235000, 8.5, 8500, 3.6, 28000, 11.9, 95000, 72000, 220000, 5200, 8, 12.5, 2.5, 1.32, 4.5, 1.8, 8.5, 5.2, 10.5, 8.5,
        168, 185, 125, 22.5, 2.2, 1.5, 1.35, 18000000, 205000, 52.5,
        33.2, 22.5, 18.5, 25.8, 5.2, 0.15],
    ['cipla', 'Cipla', 'CIPLA', 'NSE/BSE', 'Pharma', 'Pharmaceuticals', 125000, 'large',
        25800, 12.5, 4200, 16.3, 5500, 21.3, 3200, 22000, 38000, 3500, 52, 15.2, 0.4, 0.15, 18.5, 2.8, 22.5, 18.5, 25.2, 12.5,
        1545, 1680, 1280, 32.5, 6.5, 2.2, 0.65, 2200000, 125000, 42.5,
        36.6, 22.5, 15.2, 25.7, 0.0, 0.08],
    ['bpcl', 'Bharat Petroleum', 'BPCL', 'NSE/BSE', 'Energy', 'Oil Refining', 142000, 'large',
        485000, 12.5, 18500, 3.8, 28000, 5.8, 42000, 52000, 125000, 12000, 85, 15.2, 1.2, 0.81, 8.5, 2.2, 12.5, 10.2, 18.5, 12.5,
        655, 720, 520, 8.5, 2.5, 0.7, 0.95, 8500000, 142000, 45.2,
        52.9, 18.5, 12.8, 15.8, 0.0, 0.11],
    ['dabur', 'Dabur India', 'DABUR', 'NSE/BSE', 'FMCG', 'Personal Care', 98000, 'large',
        12500, 8.5, 2800, 22.4, 3500, 28.0, 1500, 8500, 15000, 2200, 10.5, 12.5, 0.3, 0.18, 18.5, 2.8, 22.5, 18.5, 25.2, 12.5,
        553, 620, 480, 52.5, 12.5, 3.2, 0.62, 3200000, 98000, 32.5,
        67.2, 12.5, 8.5, 11.8, 0.0, 0.07],
    ['havells', 'Havells India', 'HAVELLS', 'NSE/BSE', 'Consumer', 'Electrical Equip', 92000, 'large',
        18500, 15.2, 2500, 13.5, 3200, 17.3, 800, 12000, 22000, 1800, 40, 18.5, 0.2, 0.07, 22.5, 3.5, 28.5, 24.2, 32.5, 15.2,
        1465, 1650, 1200, 48.5, 10.5, 2.8, 0.82, 1800000, 92000, 38.5,
        59.4, 15.2, 12.5, 12.9, 0.0, 0.09],
    ['sbilife', 'SBI Life Insurance', 'SBILIFE', 'NSE/BSE', 'Insurance', 'Life Insurance', 165000, 'large',
        98000, 15.2, 1850, 1.9, 0, 0, 0, 5200, 42000, 0, 18.5, 18.5, 0, 0, 4.5, 1.5, 0, 0, 8.5, 5.2,
        1648, 1850, 1350, 82.5, 12.5, 3.5, 0.72, 2500000, 165000, 38.5,
        55.5, 22.5, 8.5, 13.5, 0.0, 0.08],
    ['zomato', 'Zomato', 'ZOMATO', 'NSE/BSE', 'Internet', 'Food Tech', 215000, 'large',
        15500, 65.2, 850, 5.5, 1200, 7.7, 1500, 12000, 22000, 450, 1.0, 85.2, 0.2, 0.13, 2.5, 1.2, 0, 0, 5.2, 42.5,
        248, 285, 120, 425.2, 22.5, 8.5, 1.45, 25000000, 215000, 18.5,
        0.0, 15.2, 32.5, 52.3, 0.0, 0.20],
    ['dmart', 'Avenue Supermarts', 'DMART', 'NSE/BSE', 'Retail', 'Supermarket', 285000, 'large',
        48000, 22.5, 2800, 5.8, 3500, 7.3, 2500, 18000, 32000, 1800, 43, 25.2, 0.2, 0.14, 8.5, 2.5, 15.2, 12.5, 18.5, 22.5,
        4350, 4800, 3500, 112.5, 18.5, 4.5, 0.78, 1500000, 285000, 25.2,
        75.0, 5.2, 8.5, 11.3, 0.0, 0.10],
];

function parseStock(r: typeof raw[0]): StockData {
    return {
        company: {
            id: r[0], name: r[1], symbol: r[2], exchange: r[3] as any, sector: r[4],
            industry: r[5], marketCap: r[6], marketCapCategory: r[7] as any,
            description: `${r[1]} is a leading ${r[5]} company listed on ${r[3]}.`,
            founded: 1990 + Math.floor(Math.random() * 25), headquarters: 'Mumbai',
        },
        financials: {
            revenue: r[8], revenueGrowth: r[9], netProfit: r[10], netProfitMargin: r[11],
            ebitda: r[12], operatingMargin: r[13], totalDebt: r[14], totalEquity: r[15],
            totalAssets: r[16], freeCashFlow: r[17], eps: r[18], epsGrowth: r[19],
            dividendYield: r[20], bookValue: r[21], roe: r[22], roce: r[23],
            debtToEquity: r[24], interestCoverage: r[25], currentRatio: r[26],
            assetTurnover: r[27], revenueCAGR3Y: r[28], profitCAGR3Y: r[29],
        },
        price: {
            currentPrice: r[30], weekHigh52: r[31], weekLow52: r[32], pe: r[33],
            pb: r[34], pegRatio: r[35], beta: r[36], avgVolume: r[37],
            marketCapValue: r[38], freeFloat: r[39],
        },
        holdings: {
            promoterHolding: r[40], fiiHolding: r[41], diiHolding: r[42],
            publicHolding: r[43], pledgedPercentage: r[44],
        },
        historicalPrices: genPrices(r[30], r[45]),
    };
}

export const allStocks: StockData[] = raw.map(parseStock);

export const sectors = [...new Set(allStocks.map(s => s.company.sector))];

export const getStockBySymbol = (symbol: string) =>
    allStocks.find(s => s.company.symbol === symbol);

export const getStocksBySector = (sector: string) =>
    allStocks.filter(s => s.company.sector === sector);

export const getStocksByMarketCap = (cap: string) =>
    allStocks.filter(s => s.company.marketCapCategory === cap);

export const marketOverview = {
    nifty50: 24856.50, nifty50Change: 1.25,
    sensex: 81742.30, sensexChange: 1.18,
    niftyBank: 52340.80, niftyBankChange: 0.85,
    niftyIT: 38920.40, niftyITChange: -0.42,
    marketBreadth: { advances: 1245, declines: 678, unchanged: 82 },
    topGainers: [
        { symbol: 'TRENT', change: 4.52 }, { symbol: 'TATAMOTORS', change: 3.85 },
        { symbol: 'BHARTIARTL', change: 2.95 }, { symbol: 'BAJFINANCE', change: 2.42 },
        { symbol: 'SBIN', change: 2.15 },
    ],
    topLosers: [
        { symbol: 'WIPRO', change: -2.15 }, { symbol: 'TECHM', change: -1.85 },
        { symbol: 'TATASTEEL', change: -1.52 }, { symbol: 'BPCL', change: -1.25 },
        { symbol: 'COALINDIA', change: -0.95 },
    ],
};
